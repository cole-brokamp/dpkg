[{"path":"http://geomarker.io/codec/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 lbl authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://geomarker.io/codec/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Cole Brokamp. Author, maintainer.","code":""},{"path":"http://geomarker.io/codec/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Brokamp C (2024). dpkg: Create, Stow, Read Data Packages. R package version 0.2.0.9000, https://cole-brokamp.github.io/dpkg/, https://github.com/cole-brokamp/dpkg.","code":"@Manual{,   title = {dpkg: Create, Stow, and Read Data Packages},   author = {Cole Brokamp},   year = {2024},   note = {R package version 0.2.0.9000, https://cole-brokamp.github.io/dpkg/},   url = {https://github.com/cole-brokamp/dpkg}, }"},{"path":"http://geomarker.io/codec/index.html","id":"dpkg","dir":"","previous_headings":"","what":"Create, Stow, and Read Data Packages","title":"Create, Stow, and Read Data Packages","text":"Data package (dpkg) R package used create, stow, read data packages. Data packages data frame, tibble, tbl objects specific metadata labels (name, version, title, homepage, description). data package object (dpkg) can written disk ‘parquet’ file uploaded ‘Amazon Web Service’ (AWS) ‘Simple Storage Service’ (S3) bucket ‘GitHub’ release share others. Data package objects can read R online repositories downloaded ‘parquet’ files cached locally R user data directory.","code":""},{"path":"http://geomarker.io/codec/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Create, Stow, and Read Data Packages","text":"can install development version dpkg GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"cole-brokamp/dpkg\")"},{"path":"http://geomarker.io/codec/reference/as_dpkg.html","id":null,"dir":"Reference","previous_headings":"","what":"Use a data.frame and metadata to create a data package — as_dpkg","title":"Use a data.frame and metadata to create a data package — as_dpkg","text":"Convert data frame data package (dpkg) providing specific metadata arguments.","code":""},{"path":"http://geomarker.io/codec/reference/as_dpkg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use a data.frame and metadata to create a data package — as_dpkg","text":"","code":"as_dpkg(   x,   name = deparse(substitute(x)),   version = \"0.0.0.9000\",   title = character(),   homepage = character(),   description = character() )"},{"path":"http://geomarker.io/codec/reference/as_dpkg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use a data.frame and metadata to create a data package — as_dpkg","text":"x tibble data frame name lowercase character string consisting -z, 0-9, -, _, . used data package identifier version character string representing semantic version (e.g., \"0.2.1\") title character string title data package humans homepage valid URL links webpage code descriptions related creation data package description character string (markdown encouraged!) details data created, including data sources, references code packages used, relevant details specific columns, notes (mis)usage data","code":""},{"path":"http://geomarker.io/codec/reference/as_dpkg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Use a data.frame and metadata to create a data package — as_dpkg","text":"dpkg object","code":""},{"path":"http://geomarker.io/codec/reference/as_dpkg.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Use a data.frame and metadata to create a data package — as_dpkg","text":"name specified, deparsed code defining x; might result valid name (e.g., piping code create data frame)","code":""},{"path":"http://geomarker.io/codec/reference/as_dpkg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Use a data.frame and metadata to create a data package — as_dpkg","text":"","code":"x <- as_dpkg(mtcars, name = \"mtcars\", title = \"Motor Trend Road Car Tests\") attr(x, \"description\") <- \"This is a data set all about characteristics of different cars\" attr(x, \"homepage\") <- \"https://github.com/cole-brokamp/dpkg\" x #> # [☰] mtcars v0.0.0.9000 #> # ℹ Use `dpkg_meta() to get all metadata #> # A tibble: 32 × 11 #>      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb #>    <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> #>  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4 #>  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4 #>  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1 #>  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1 #>  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2 #>  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1 #>  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4 #>  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2 #>  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2 #> 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4 #> # ℹ 22 more rows"},{"path":"http://geomarker.io/codec/reference/dpkg_gh_release.html","id":null,"dir":"Reference","previous_headings":"","what":"Use a dpkg to create a github release — dpkg_gh_release","title":"Use a dpkg to create a github release — dpkg_gh_release","text":"release tagged current commit named according name version dpkg. GITHUB_PAT environment variable must set working directory must inside git repository GitHub remote. Trying create one release current commit result error.","code":""},{"path":"http://geomarker.io/codec/reference/dpkg_gh_release.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use a dpkg to create a github release — dpkg_gh_release","text":"","code":"dpkg_gh_release(x, draft = TRUE)"},{"path":"http://geomarker.io/codec/reference/dpkg_gh_release.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use a dpkg to create a github release — dpkg_gh_release","text":"x data package (dpkg) object draft logical; mark release draft?","code":""},{"path":"http://geomarker.io/codec/reference/dpkg_gh_release.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Use a dpkg to create a github release — dpkg_gh_release","text":"URL release (invisibly)","code":""},{"path":"http://geomarker.io/codec/reference/dpkg_gh_release.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Use a dpkg to create a github release — dpkg_gh_release","text":"","code":"if (FALSE) { # \\dontrun{ dpkg_gh_release(as_dpkg(mtcars)) } # }"},{"path":"http://geomarker.io/codec/reference/dpkg_meta.html","id":null,"dir":"Reference","previous_headings":"","what":"get the metadata associated with a data package — dpkg_meta","title":"get the metadata associated with a data package — dpkg_meta","text":"get metadata associated data package","code":""},{"path":"http://geomarker.io/codec/reference/dpkg_meta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get the metadata associated with a data package — dpkg_meta","text":"","code":"dpkg_meta(x)"},{"path":"http://geomarker.io/codec/reference/dpkg_meta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get the metadata associated with a data package — dpkg_meta","text":"x dpkg object","code":""},{"path":"http://geomarker.io/codec/reference/dpkg_meta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get the metadata associated with a data package — dpkg_meta","text":"list metadata key value pairs","code":""},{"path":"http://geomarker.io/codec/reference/get_gh_token.html","id":null,"dir":"Reference","previous_headings":"","what":"get github token from GITHUB_PAT environment variable or use bundled token if unset — get_gh_token","title":"get github token from GITHUB_PAT environment variable or use bundled token if unset — get_gh_token","text":"get github token GITHUB_PAT environment variable use bundled token unset","code":""},{"path":"http://geomarker.io/codec/reference/get_gh_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get github token from GITHUB_PAT environment variable or use bundled token if unset — get_gh_token","text":"","code":"get_gh_token()"},{"path":"http://geomarker.io/codec/reference/get_gh_token.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get github token from GITHUB_PAT environment variable or use bundled token if unset — get_gh_token","text":"","code":"# withr::with_envvar(c(GITHUB_PAT = \"\"), get_gh_token()) # get_gh_token()"},{"path":"http://geomarker.io/codec/reference/read_dpkg.html","id":null,"dir":"Reference","previous_headings":"","what":"read (meta)data from dpkg on disk — read_dpkg_metadata","title":"read (meta)data from dpkg on disk — read_dpkg_metadata","text":"read (meta)data dpkg disk","code":""},{"path":"http://geomarker.io/codec/reference/read_dpkg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"read (meta)data from dpkg on disk — read_dpkg_metadata","text":"","code":"read_dpkg_metadata(x)  read_dpkg(x)"},{"path":"http://geomarker.io/codec/reference/read_dpkg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"read (meta)data from dpkg on disk — read_dpkg_metadata","text":"x path data package (.parquet file) disk","code":""},{"path":"http://geomarker.io/codec/reference/read_dpkg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"read (meta)data from dpkg on disk — read_dpkg_metadata","text":"read_dpkg(), dpkg object; read_dpkg_metadata(), list metadata","code":""},{"path":"http://geomarker.io/codec/reference/stow.html","id":null,"dir":"Reference","previous_headings":"","what":"download a github release asset to the stow R user directory — stow_gh_release","title":"download a github release asset to the stow R user directory — stow_gh_release","text":"Use stow abstract away process downloading file GitHub release asset user's data directory, downloading files already downloaded.","code":""},{"path":"http://geomarker.io/codec/reference/stow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download a github release asset to the stow R user directory — stow_gh_release","text":"","code":"stow_gh_release(owner, repo, dpkg, overwrite = FALSE)  stow(uri, overwrite = FALSE)  stow_url(url, overwrite = FALSE)"},{"path":"http://geomarker.io/codec/reference/stow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download a github release asset to the stow R user directory — stow_gh_release","text":"owner string repo owner repo string repo name dpkg string gh release tag (filename without .parquet extension) overwrite logical; re-download remote file even though local file name exists? uri character string universal resource identifier; currently, must begin http://, https://, gh:// url URL string starting http:// https://","code":""},{"path":"http://geomarker.io/codec/reference/stow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"download a github release asset to the stow R user directory — stow_gh_release","text":"path stowed file url github release","code":""},{"path":"http://geomarker.io/codec/reference/stow.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"download a github release asset to the stow R user directory — stow_gh_release","text":"Supported URI prefixes include: https://, http://: download file gh://: download github release asset, formatted gh://owner/repo/name Stow downloads files users data directory; see ?tools::R_user_dir. Specify alternative download location setting R_USER_DATA_DIR environment variable. stow cache works name ; , file URI already downloaded , re-downloaded (unless overwrite = TRUE).","code":""},{"path":"http://geomarker.io/codec/reference/stow.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"download a github release asset to the stow R user directory — stow_gh_release","text":"","code":"# get by using URL stow(\"https://github.com/geomarker-io/appc/releases/download/v0.1.0/nei_2020.rds\") #> /home/runner/.local/share/R/stow/nei_2020.rds  # will be faster (even in later R sessions) next time stow(\"https://github.com/geomarker-io/appc/releases/download/v0.1.0/nei_2020.rds\") |>   readRDS() #> # A tibble: 369,063 × 4 #>    pollutant_code total_emissions emissions_uom s2             #>    <chr>                    <dbl> <chr>         <s2_cell>      #>  1 EC                  0.00137    TON           -3.419770e-306 #>  2 NO3                 0          TON           -3.419770e-306 #>  3 OC                  0.0317     TON           -3.419770e-306 #>  4 PM25-PRI            0.782      TON           -3.419770e-306 #>  5 PMFINE              0.746      TON           -3.419770e-306 #>  6 SO4                 0.00278    TON           -3.419770e-306 #>  7 EC                  0.0000182  TON           -3.355024e-306 #>  8 NO3                 0.00000638 TON           -3.355024e-306 #>  9 OC                  0.000129   TON           -3.355024e-306 #> 10 PM25-PRI            0.0007     TON           -3.355024e-306 #> # ℹ 369,053 more rows  # get a data package parquet file created with dpkg_gh_release() stow(\"gh://cole-brokamp/dpkg/cagis_parcels-v0.1.0\") |>   read_dpkg() #> # [☰] cagis_parcels v0.1.0 #> # ℹ Use `dpkg_meta() to get all metadata #> # A tibble: 259,710 × 9 #>    parcel_id     parcel_address  land_use condo_id condo_unit market_total_value #>    <chr>         <chr>           <fct>    <chr>    <chr>                   <dbl> #>  1 6210023015500 184 CANNONADE … single … NA       NA                     275000 #>  2 6210023017000 154 THOROBRED … single … NA       NA                     264540 #>  3 6210023017700 112 CITATION CT single … NA       NA                     250760 #>  4 6210023018100 119 CITATION CT single … NA       NA                     268670 #>  5 6210023018500 112 THOROBRED … single … NA       NA                     238900 #>  6 6210023020300 242 CORDERO TL  single … NA       NA                     279710 #>  7 6210023020500 254 CORDERO TL  single … NA       NA                     258150 #>  8 6210023022800 212 RIVA RIDGE… single … NA       NA                     261670 #>  9 6210023023100 230 RIVA RIDGE… single … NA       NA                     256910 #> 10 6210023023300 242 RIVA RIDGE… single … NA       NA                     263870 #> # ℹ 259,700 more rows #> # ℹ 3 more variables: acreage <dbl>, homestead <lgl>, rental_registration <lgl>"},{"path":"http://geomarker.io/codec/reference/stow_info.html","id":null,"dir":"Reference","previous_headings":"","what":"get info about stowed files — stow_info","title":"get info about stowed files — stow_info","text":"get info stowed files get path stowed file (stow directory) test stowed file (stow directory) exists get size stowed file remove stowed file (stow entire directory)","code":""},{"path":"http://geomarker.io/codec/reference/stow_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get info about stowed files — stow_info","text":"","code":"stow_info(filename = NULL)  stow_path(filename = NULL)  stow_exists(filename = NULL)  stow_size(filename = NULL)  stow_remove(filename = NULL, .delete_stow_dir_confirm = FALSE)"},{"path":"http://geomarker.io/codec/reference/stow_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get info about stowed files — stow_info","text":"filename character filename stowed file; NULL, information stowed files directory files stowed returned .delete_stow_dir_confirm set TRUE order delete entire stow directory without interactive user confirmation","code":""},{"path":"http://geomarker.io/codec/reference/stow_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get info about stowed files — stow_info","text":"stow_info(), tibble file folder information; stow_path(), character path stowed file stow directory; stow_exists(), logical; stow_size(), fs::","code":""},{"path":"http://geomarker.io/codec/reference/stow_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"get info about stowed files — stow_info","text":"","code":"Sys.setenv(R_USER_DATA_DIR = tempfile(\"stow\"))  stow_path() #> /tmp/RtmpHOZbpu/stow16f05ac13708/R/stow  stow(\"https://github.com/geomarker-io/appc/releases/download/v0.1.0/nei_2020.rds\") #> /tmp/RtmpHOZbpu/stow16f05ac13708/R/stow/nei_2020.rds  stow_path(\"nei_2020.rds\") #> /tmp/RtmpHOZbpu/stow16f05ac13708/R/stow/nei_2020.rds  stow_exists(\"nei_2020.rds\") #> [1] TRUE  stow_size(\"nei_2020.rds\") #> 2.75M  stow(\"https://github.com/geomarker-io/appc/releases/download/v0.1.0/nei_2017.rds\") #> /tmp/RtmpHOZbpu/stow16f05ac13708/R/stow/nei_2017.rds  stow_info(\"nei_2017.rds\") #> # A tibble: 1 × 18 #>   path         type   size permissions modification_time   user  group device_id #>   <fs::path>   <fct> <fs:> <fs::perms> <dttm>              <chr> <chr>     <dbl> #> 1 …ei_2017.rds file  2.67M rw-r--r--   2024-08-14 20:00:04 runn… dock…      2049 #> # ℹ 10 more variables: hard_links <dbl>, special_device_id <dbl>, inode <dbl>, #> #   block_size <dbl>, blocks <dbl>, flags <int>, generation <dbl>, #> #   access_time <dttm>, change_time <dttm>, birth_time <dttm>  stow_info() #> # A tibble: 2 × 18 #>   path         type   size permissions modification_time   user  group device_id #>   <fs::path>   <fct> <fs:> <fs::perms> <dttm>              <chr> <chr>     <dbl> #> 1 …ei_2017.rds file  2.67M rw-r--r--   2024-08-14 20:00:04 runn… dock…      2049 #> 2 …ei_2020.rds file  2.75M rw-r--r--   2024-08-14 20:00:03 runn… dock…      2049 #> # ℹ 10 more variables: hard_links <dbl>, special_device_id <dbl>, inode <dbl>, #> #   block_size <dbl>, blocks <dbl>, flags <int>, generation <dbl>, #> #   access_time <dttm>, change_time <dttm>, birth_time <dttm>  stow_size() #> 5.42M  stow_remove(.delete_stow_dir_confirm = TRUE) #> /tmp/RtmpHOZbpu/stow16f05ac13708/R/stow has a total size of 5.42M"},{"path":"http://geomarker.io/codec/reference/write_dpkg.html","id":null,"dir":"Reference","previous_headings":"","what":"write dpkg to disk — write_dpkg","title":"write dpkg to disk — write_dpkg","text":"write dpkg disk","code":""},{"path":"http://geomarker.io/codec/reference/write_dpkg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"write dpkg to disk — write_dpkg","text":"","code":"write_dpkg(x, dir)"},{"path":"http://geomarker.io/codec/reference/write_dpkg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"write dpkg to disk — write_dpkg","text":"x data package (dpkg) object dir path directory dpkg parquet file written","code":""},{"path":"http://geomarker.io/codec/reference/write_dpkg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"write dpkg to disk — write_dpkg","text":"path written file, invisibly","code":""}]
